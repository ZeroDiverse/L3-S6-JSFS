(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}};function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),t.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e+"../"})(),t.d({},{H:()=>I,m:()=>A});var n=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n,this.deltaX=r,this.deltaY=o,this.active=!0}var n,r;return n=t,(r=[{key:"init_img",value:function(t,e,n){var r=new Image;return r.src=t,r.height=e,r.width=n,r}},{key:"draw",value:function(t){t.drawImage(this.img,this.x,this.y)}},{key:"move",value:function(){this.x+=this.deltaX,this.y+=this.deltaY}},{key:"update",value:function(t){this.move(),this.draw(t)}},{key:"collisionWith",value:function(t){var e=this.x,n=this.y,r=this.x+48,o=this.y+48,i=t.x,c=t.y,u=t.x+t.img.width,a=t.y+t.img.height,s=Math.max(e,i),f=Math.max(n,c),l=Math.min(r,u),h=Math.min(o,a);return s<=l&&f<=h}}])&&e(n.prototype,r),t}();const r=t.p+"/dist/assets/images/428173e819d4f98449e2562e1d2c4ee8.png";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(h,t);var e,n,o,f,l=(o=h,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=s(o);if(f){var n=s(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return a(this,t)});function h(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),(n=l.call(this,t,e,-3,0)).img=n.init_img(),n.shooted=!1,n}return e=h,(n=[{key:"init_img",value:function(){var t=new Image;return t.src=r,t.height=40,t.width=40,t}},{key:"draw",value:function(t){t.drawImage(this.img,this.x,this.y)}},{key:"move",value:function(){(this.x<0||this.y>I)&&(this.active=!1),c(s(h.prototype),"move",this).call(this)}},{key:"fall",value:function(){this.shooted=!0,this.deltaX=0,this.deltaY=3}}])&&i(e.prototype,n),h}(n);const l=t.p+"/dist/assets/images/a833dc0dae645297c4e4c4d6200d2605.png";function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(c,t);var e,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=m(r);if(o){var n=m(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function c(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(n=i.call(this,t,e,8,0)).img=n.init_img(l,2,10),n}return e=c,(n=[{key:"move",value:function(){this.x>A&&(this.active=!1),y(m(c.prototype),"move",this).call(this)}},{key:"collisionWith",value:function(t){if(t.shooted)return!1;var e=this.x,n=this.y,r=this.x+10,o=this.y+2,i=t.x,c=t.y,u=t.x+t.img.width,a=t.y+t.img.height,s=Math.max(e,i),f=Math.max(n,c),l=Math.min(r,u),h=Math.min(o,a);return s<=l&&f<=h&&(this.active=!1,!0)}}])&&p(e.prototype,n),c}(n);function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var w=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.context=e.getContext("2d"),this.width=n,this.height=r,this.starship=o,this.saucers=[],this.shoots=[],this.score=0}var e,n;return e=t,(n=[{key:"addSaucer",value:function(){var t=new f(this.canvas.width-100,Math.random()*this.canvas.height/2);this.saucers.push(t)}},{key:"addShoot",value:function(){var t=new b(this.starship.x+20,this.starship.y+32);this.shoots.push(t)}},{key:"update",value:function(){var t=this,e=this;this.starship.move(this.canvas),this.starship.draw(this.context),this.saucers.forEach((function(e){e.active&&(e.x<0&&(t.score-=300),t.shoots.forEach((function(n){n.collisionWith(e)&&(e.fall(),t.score+=200)})))})),this.saucers=this.saucers.filter((function(t){return t.active})),this.saucers.forEach((function(t){t.update(e.context)})),this.shoots=this.shoots.filter((function(t){return t.active})),this.shoots.forEach((function(t){t.update(e.context)}))}}])&&g(e.prototype,n),t}();const O=t.p+"/dist/assets/images/522211549057d60b65a588ee3a68c1e4.png";function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function j(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(c,t);var e,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_(r);if(o){var n=_(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return j(this,t)});function c(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(n=i.call(this,t,e,0,8)).img=n.init_img(),n.shiftY=8,n.moving=0,n}return e=c,(n=[{key:"init_img",value:function(){var t=new Image;return t.src=O,t.height=40,t.width=40,t}},{key:"moveUp",value:function(){this.shiftY=-8,this.moving=1}},{key:"moveDown",value:function(){this.shiftY=8,this.moving=2}},{key:"stopMoving",value:function(){this.moving=0}},{key:"move",value:function(t){1===this.moving&&(this.y=Math.max(0,this.y+this.shiftY)),2===this.moving&&(this.y=Math.min(t.height-40,this.y+this.shiftY))}},{key:"keyDownActionHandler",value:function(t){switch(t.key){case"ArrowUp":case"Up":this.moveUp();break;case"ArrowDown":case"Down":this.moveDown();break;default:return}t.preventDefault()}},{key:"keyUpActionHandler",value:function(t){switch(t.key){case"ArrowUp":case"Up":case"ArrowDown":case"Down":this.stopMoving();break;default:return}t.preventDefault()}}])&&x(e.prototype,n),c}(n),P=document.getElementById("stars"),R=P.getContext("2d"),D=new E(40,P.height/2-20),M=new w(P,P.width,P.height,D),T=document.getElementById("score");document.getElementById("nouvelleSoucoupe").addEventListener("click",(function(){M.addSaucer(),P.focus()})),document.getElementById("flotteSoucoupes").addEventListener("click",(function(){setInterval((function(){M.addSaucer()}),750),P.focus()}));var A=P.width,I=P.height;function U(){R.clearRect(0,0,P.width,P.height),M.update(),window.requestAnimationFrame(U),T.innerHTML=M.score}window.addEventListener("load",(function(){window.addEventListener("keydown",M.starship.keyDownActionHandler.bind(M.starship)),window.addEventListener("keyup",M.starship.keyUpActionHandler.bind(M.starship)),window.addEventListener("keypress",(function(t){"Space"===t.code&&M.addShoot()})),U()})),console.log("le bundle a été généré")})();